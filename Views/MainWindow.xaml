<Window x:Class="hogs_gameManager_wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:hogs_gameManager_wpf"
        mc:Ignorable="d"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" 
        xmlns:wpf="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Hogs Game Editor" Height="570" Width="1050" Loaded="Window_Loaded" WindowStyle="ToolWindow" ResizeMode="NoResize">
        
    <Grid x:Name="mainGrid" Background="#FF202020" Margin="0,0,0,0" Width="1050" Height="570">

        <ComboBox x:Name="mapListComboBox"  FontSize="16" Width="235" Height="30" Background="#FF202020" 
         Foreground="White" SelectionChanged="MapListComboBox_SelectionChanged"
         Style="{StaticResource {x:Static ToolBar.ComboBoxStyleKey}}" HorizontalAlignment="Left" Margin="2,2,0,0" VerticalAlignment="Top">
            <ComboBox.ItemContainerStyle>
                <Style TargetType="ComboBoxItem">
                    <Setter Property="Background" Value="#FF202020"/>
                    <Setter Property="BorderBrush" Value="#FF202020"/>
                    <Setter Property="Foreground" Value="White"/>

                </Style>
            </ComboBox.ItemContainerStyle>
        </ComboBox>

        <ListView x:Name="MapObjectsListView" SelectionChanged="MapObjectsListView_SelectionChanged" Background="#FF202020" Foreground="White" SelectionMode="Single" Width="236" Height="440" Margin="2,35,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" ScrollViewer.HorizontalScrollBarVisibility="Hidden">
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="Background" Value="#FF202020"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="Black" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="MidnightBlue"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="ID" DisplayMemberBinding="{Binding Id}" Width="35"/>
                    <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="120"/>
                    <GridViewColumn Header="Team" DisplayMemberBinding="{Binding Team}" Width="60"/>

                    <GridView.ColumnHeaderContainerStyle>
                        <Style TargetType="{x:Type GridViewColumnHeader}">
                            <!-- Set any properties you want to set -->
                            <Setter Property="Background" Value="Black" />
                            <Setter Property="Foreground" Value="White" />
                            <Setter Property="FontWeight" Value="Bold" />
                        </Style>
                    </GridView.ColumnHeaderContainerStyle>
                </GridView>
            </ListView.View>
        </ListView>

        <xctk:PropertyGrid x:Name="MapObjectPropertiesControl"  NameColumnWidth="120" AutoGenerateProperties="False" Margin="0,0,17,0" ShowSummary="False" ShowSortOptions="False" ShowDescriptionByTooltip="False" Background="#FF202020" Foreground="White" BorderBrush="Black" Height="530" Width="280" VerticalAlignment="Top" HorizontalAlignment="Right" PropertyValueChanged="MapObjectPropertiesControl_PropertyValueChanged">
            <!--  properties, categories,display names  -->
            <xctk:PropertyGrid.PropertyDefinitions>

                <xctk:PropertyDefinition TargetProperties="index"       DisplayOrder="1" DisplayName="ID" Category="1 General"  />
                <xctk:PropertyDefinition TargetProperties="type"        DisplayOrder="2" DisplayName="Type" Category="1 General" />
                <xctk:PropertyDefinition TargetProperties="team"        DisplayOrder="3" DisplayName="Team" Category="1 General"/>
                <xctk:PropertyDefinition TargetProperties="bounds"      DisplayOrder="4" DisplayName="Collision" Category="1 General" IsExpandable="true" />
                <xctk:PropertyDefinition TargetProperties="bounds_type" DisplayOrder="5" DisplayName="Collision type" Category="1 General" />

                <xctk:PropertyDefinition TargetProperties="PositionX" DisplayName="X" Category="2 Position" />
                <xctk:PropertyDefinition TargetProperties="PositionY" DisplayName="Y" Category="2 Position" />
                <xctk:PropertyDefinition TargetProperties="PositionZ" DisplayName="Z" Category="2 Position" />

                <xctk:PropertyDefinition TargetProperties="AngleX" DisplayName="X"  Category="3 Rotation" />
                <xctk:PropertyDefinition TargetProperties="AngleY" DisplayName="Y"  Category="3 Rotation" />
                <xctk:PropertyDefinition TargetProperties="AngleZ" DisplayName="Z"  Category="3 Rotation" />


                <xctk:PropertyDefinition TargetProperties="byte0" DisplayName="byte0" Category="4 Others"   />
                <xctk:PropertyDefinition TargetProperties="short0" DisplayName="short0" Category="4 Others" />
                <xctk:PropertyDefinition TargetProperties="short1" DisplayName="short1" Category="4 Others" />
                <xctk:PropertyDefinition TargetProperties="short2" DisplayName="short2" Category="4 Others" />

                <xctk:PropertyDefinition TargetProperties="objective"               DisplayName="objective"         Category="5 Script" DisplayOrder="1" />
                <xctk:PropertyDefinition TargetProperties="ScriptGroup"             DisplayName="Script Group"      Category="5 Script" DisplayOrder="2"/>
                <xctk:PropertyDefinition TargetProperties="ScriptParametersPreview" DisplayName="Script Parameters" Category="5 Script" DisplayOrder="3" IsExpandable="true"/>
                <xctk:PropertyDefinition TargetProperties="fallback_position"       DisplayName="fallback pos"      Category="5 Script" DisplayOrder="4" IsExpandable="true"/>
                <xctk:PropertyDefinition TargetProperties="objectiveFlag"           DisplayName="objective Flag"    Category="5 Script" DisplayOrder="5" />

            </xctk:PropertyGrid.PropertyDefinitions>
            
            <!-- changing type of edit method for some props -->
            <xctk:PropertyGrid.EditorDefinitions>

                <xctk:EditorTemplateDefinition TargetProperties="bounds,fallback_position">
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate >
                            <TextBlock Text=" X,Y,Z" />
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

                <xctk:EditorTemplateDefinition TargetProperties="PositionX,PositionY,PositionZ,AngleX,AngleY,AngleZ">
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate>
                            <xctk:ShortUpDown Value="{Binding Value}" Increment="100" Background="Transparent" Foreground="White" Minimum="-16384" Maximum="16384" />
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

                <xctk:EditorTemplateDefinition TargetProperties="index">
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Value}" Background="#FF202020" Foreground="White" TextAlignment="Right"/>
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

                <xctk:EditorTemplateDefinition TargetProperties="PositionPreview,AnglesPreview">
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Vertical">
                                <xctk:ShortUpDown Value="{Binding X, Mode=TwoWay}" Increment="100" Background="#FF202020" Foreground="White" Minimum="-16384"  Maximum="16384" />
                                <xctk:ShortUpDown Value="{Binding Y, Mode=TwoWay}" Increment="100" Background="#FF202020" Foreground="White" Minimum="-16384"  Maximum="16384" />
                                <xctk:ShortUpDown Value="{Binding Z, Mode=TwoWay}" Increment="100" Background="#FF202020" Foreground="White" Minimum="-16384"  Maximum="16384" />
                            </StackPanel>
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

                <xctk:EditorTemplateDefinition TargetProperties="type,bounds_type,short0,short1,short2">
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate>
                            <xctk:ShortUpDown Background="#FF202020" Foreground="White" Value="{Binding Value}"  />
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

                <xctk:EditorTemplateDefinition TargetProperties="ScriptGroup,byte0">
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate>
                            <xctk:ByteUpDown Background="#FF202020" Foreground="White" Value="{Binding Value}"/>
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

                <xctk:EditorTemplateDefinition TargetProperties="ScriptParametersPreview" >
                    <xctk:EditorTemplateDefinition.EditingTemplate>
                        <DataTemplate>
                            <TextBlock Text="    (id / amnt)" FontSize="9"/>
                        </DataTemplate>
                    </xctk:EditorTemplateDefinition.EditingTemplate>
                </xctk:EditorTemplateDefinition>

            </xctk:PropertyGrid.EditorDefinitions>

            <!-- css for the propertygrid -->
            <xctk:PropertyGrid.PropertyContainerStyle>

                <Style TargetType="{x:Type xctk:PropertyItem}">
                    <Setter Property="Background" Value="#FF202020"/>
                    <Setter Property="Foreground" Value="White"/>

                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="black"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </xctk:PropertyGrid.PropertyContainerStyle>

            
        </xctk:PropertyGrid>
        
        
        <Image x:Name="MapImageControl" Height="512" Width="512" Margin="240,0,0,0" HorizontalAlignment="Left" VerticalAlignment="top" />
        <Canvas x:Name="CanvasImageMap" Height="512" Width="512" Margin="240,0,0,0" HorizontalAlignment="Left"  VerticalAlignment="top" />
        <Button x:Name="button" Content="Add New item to map" HorizontalAlignment="Left" Margin="5,0,0,70" VerticalAlignment="bottom" Width="230" Background="#FF202020" Foreground="White" Height="20" Click="AddNewObjectButton_Click"/>
        <Button x:Name="buttonViewMap" Content="Switch to 3D view" HorizontalAlignment="Left" Margin="5,0,0,45" VerticalAlignment="Bottom" Width="230" Background="#FF220022" Foreground="White" Height="20" Click="buttonViewMap_Click"/>
        <Button x:Name="buttonExportEntity" Content=""  Margin="250,0,0,45" HorizontalAlignment="Left" VerticalAlignment="Bottom" Width="110" Background="#FF3E3D12" Foreground="White" Height="20" Click="buttonExportEntity_Click"/>
        <Button x:Name="buttonMapExport" Content=""  Margin="370,0,0,45" HorizontalAlignment="Left"  VerticalAlignment="Bottom" Width="110" Background="#FF2D4E34" Foreground="White" Height="20" Click="buttonMapExport_Click"/>
        <Button x:Name="buttonMapExportALL" Content="Export ALL   /!\" Margin="490,0,0,45" HorizontalAlignment="Left"  VerticalAlignment="bottom" Width="110" Background="#FF771515" Foreground="White" Height="20" Click="buttonMapExportALL_Click"/>
        <wpf:WebView2 x:Name="webView" Height="0" Width="0" Margin="240,0,0,0" HorizontalAlignment="Left" VerticalAlignment="top" />
    </Grid>
</Window>
